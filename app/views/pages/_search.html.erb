<!-- app/views/pages/_search.html.erb -->
<div class="search-container mb-4">
  <div
    class="search-input-wrapper py-1 px-1"
    style="box-shadow: 0px 0px 32px #FFE4AF; max-width: 600px; width: 100%; background-color: #fff; border-radius: 1rem;"
  >
    <form
      id="search-form"
      class="search-form"
      action="#"
      method="GET"
      onsubmit="handleFormSubmit(event)"
    >
      <!-- Search Input -->
      <input
        type="text"
        id="search-query"
        name="query"
        class="search-input"
        placeholder="Your location..."
      >
        <!-- Submit Button -->
        <button
        type="submit"
        class="search-button"
        style="background: transparent; border: none; cursor: pointer;"
      >
          <i class="fa-solid fa-magnifying-glass" style="color: #000;"></i>
        </button>
      </form>
    </div>
  </div>
  <!-- Remove or repurpose the #end div if it's not needed elsewhere -->
  <!-- <div id="end">
  <!-- Content you want to scroll to -->
  <!-- </div> -->
  <!-- Add the JavaScript function -->
  <script>
    function handleFormSubmit(event) {
      event.preventDefault(); // Prevent the default form submission

      const query = document.getElementById('search-query').value.trim();

      if (query === "") {
        // Optionally, display a custom validation message
        alert("Please enter your location.");
        return;
      }

      console.log('Search query:', query);
      // You can perform an AJAX request or any other logic here

      // Smoothly scroll to the bottom of the page
      window.scrollTo({
        top: document.body.scrollHeight,
        behavior: 'smooth'
      });
    }
  </script>
  <!-- Add custom CSS to remove outlines and default styles -->
  <style>
    /* Container Styling */
    .search-container {
      display: flex;
      justify-content: center;
      margin-bottom: 1.5rem;
    }

    .search-input-wrapper {
      display: flex;
      align-items: center;
    }

    /* Input Styling */
    .search-input {
      flex: 1;
      border: none;
      background-color: transparent;
      font-size: 1rem;
      outline: none; /* Remove default focus outline */
    }

    .search-input:focus {
      /* Optionally, add a custom focus style */
      /* For example, a subtle box-shadow or border */
      /* box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); */
    }

    /* Button Styling */
    .search-button {
      /* Remove any default button styles */
    }

    /* Remove focus outline from button */
    .search-button:focus {
      outline: none;
    }
  </style>
